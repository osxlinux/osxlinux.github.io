---
layout: post
title:  shell_cookbook_04
date:   2015-04-10 09:55:11
category: "linux_天使团"
---
<h2>第三节简单明了的输入输出.</h2>


<pre><code>echo
printf
cat
tee
read
</code></pre>
Fd重点！！！


<p>echo作用：主要用于输入，用在显示上。</p>
<p>echo用法：</p>
<p>语   法：<code>echo [-ne][字符串]</code>或 <code>echo [--help][--version]</code></p>
<p>补充说明：echo会将输入的字符串送往标准输出。输出的字符串间以空白字符隔开, 并在最后加上换行号.</p>

*	参   数：-n 不要在最后自动换行 
*         -e 若字符串中出现以下字符，则特别加以处理，而不会将它当成一般文字输出：
*		 \a 发出警告声；
*		 \b 删除前一个字符；
*		 \c 最后不加上换行符号；
*		 \f 换行但光标仍旧停留在原来的位置；
*		 \n 换行且光标移至行首；
*		 \r 光标移至行首，但不换行；
*		 \t 插入tab；\v 与\f相同；
*		 \\ 插入\字符；
*		 \nnn 插入nnn（八进制）所代表的ASCII字符；
*	--help 显示帮助--version 显示版本信息

举例
<code>echo -e "\033[32;49;1m [DONE] \033[39;49;0m"</code>或<code>echo -e "\e[32;49;1m [DONE] \033[39;49;0m"</code>

输出结果 ：<code>[DONE]</code>


<p>文本终端的颜色可以使用“ANSI非常规字符序列”来生成。</br>
举例：</p>

<pre><code>echo -e "\033[44;37;5m ME \033[0m COOL"</code></pre>

<p>以上命令设置背景成为蓝色，前景白色，闪烁光标，输出字符“ME”，然后重新设置屏幕到缺省设置，输出字符 “COOL”。“e”是命令 echo 的一个可选项，它用于激活特殊字符的解析器。“\033”引导非常规字符序列。“m”意味着设置属性然后结束非常规字符序列，这个例子里真正有效的字符是 “44;37;5” 和“0”。修改“44;37;5”可以生成不同颜色的组合，数值和编码的前后顺序没有关系。可以选择的编码如下所示：
</p>
编码 颜色/动作

*	0 重新设置属性到缺省设置
*	1 设置粗体
*	2 设置一半亮度（模拟彩色显示器的颜色）
*	4 设置下划线（模拟彩色显示器的颜色）
*	5 设置闪烁
*	7 设置反向图象
*	22 设置一般密度
*	24 关闭下划线
*	25 关闭闪烁
*	27 关闭反向图象
*	30 设置黑色前景
*	31 设置红色前景
*	32 设置绿色前景
*	33 设置棕色前景
*	34 设置蓝色前景
*	35 设置紫色前景
*	36 设置青色前景
*	37 设置白色前景
*	38 在缺省的前景颜色上设置下划线
*	39 在缺省的前景颜色上关闭下划线
*	40 设置黑色背景
*	41 设置红色背景
*	42 设置绿色背景
*	43 设置棕色背景
*	44 设置蓝色背景
*	45 设置紫色背景
*	46 设置青色背景
*	47 设置白色背景
*	49 设置缺省黑色背景


<h3>其他有趣的代码还有：</h3>

*	\033[2J 　清除屏幕
*	\033[0q 　关闭所有的键盘指示灯
*	\033[1q 　设置“滚动锁定”指示灯 (Scroll Lock)
*	\033[2q 　设置“数值锁定”指示灯 (Num Lock)
*	\033[3q 　设置“大写锁定”指示灯 (Caps Lock)
*	\033[15:40H 把关闭移动到第15行，40列
*	\007 　　发蜂鸣生beep


RedHat的字体和背景颜色的改变方法：

<p>命令：
<pre><code>PS1="[\e[32;1m\u@\h \W]\\$"</code></pre>
或</br>
<code>export PS1="[\e[32;1m\u@\h \W]\\$"</code> 两者的区别请查看环境变量的相关资料
</p>
解释：

<code>\e[32;1m：</code>这就是控制字体和背景颜色的转义字符，30~37是字体颜色、40~47是背景颜色

<p>例子中的32;1m数字的位置是可以对调的如\e[1;32m，如果是在X环境下可以更换一下1的范围0~10，可能有的没用处：0或者不写（\e[0;32m或\e[;32m）显示浅颜色，1：显示高亮 4：加下划线.....如果改后的效果不好，但是又还原不了，那就不写m前面的数字，如\e[32;m，或者直接注销再登陆</p>

*	\u \h \W：这是一些转义字符，下面详细解释：
*	\d ：代表日期，格式为weekday month date，例如："Mon Aug 1"
*	\H ：完整的主机名称。例如：我的机器名称为：fc4.linux，则这个名称就是fc4.linux
*	\h ：仅取主机的第一个名字，如上例，则为fc4，.linux则被省略
*	\t ：显示时间为24小时格式，如：HH：MM：SS
*	\T ：显示时间为12小时格式
*	\A ：显示时间为24小时格式：HH：MM
*	\u ：当前用户的账号名称
*	\v ：BASH的版本信息
*	\w ：完整的工作目录名称。家目录会以 ~代替
*	\W ：利用basename取得工作目录名称，所以只会列出最后一个目录
*	\# ：下达的第几个命令
*	\$ ：提示字符，如果是root时，提示符为：# ，普通用户则为：$
*	\n ：新建一行

字体并不局限于一个颜色，可以有多个颜色：
<code>PS1="[\e[32;1m\u@\e[35;1m\h \e[31;1m\W]\\$"</code>

<p>以上两个命令在注销后再登陆就失效了，用下面方法使其永久生效：</p>
<code>vi /etc/profile</code>
在<code>“export PATH .....”</code>下面添加一行：<code>export PS1="[\e[32;1m\u@\h \W]\\$"`</code>
<p>注销再登陆，就成功了，如果没生效，使用source /etc/profile 命令试试，或者直接重启机器。</p>


<p>有些时候，需要为Linux服务的配置截个图，然后打印出来，结果在字符界面下就只有黑色背景，白色字体，打印出来费墨~~改改背景可能好点。</p>
<p>首先要知道在linux中，一些常用的颜色代码：(这些颜色是ANSI标准颜色)</p>
<p>前景色：30黑 31红 32绿 33黄 34蓝 35紫 36青 37白</p>
<p>背景色：40黑 41红 42绿 43黄 44青 45蓝 46青 47白</p>
前景颜色各数字是对应背景颜色减去10.
<p>命令：</p>  
<pre><code>echo -e "\033[background_number;foreground_numberm" </code></pre>

<p>如设置白色背景黑色前景字体应该是</p>  
<pre><code>echo   -e   "\033[47;30m"</code></pre>

<p>foreground_number=前景色</p>
<p>m要紧跟foreground_number，没有空格。</p>

<p>（说是白色背景，黑色字体。字体颜色我同意，可背景色咋看也不像是白色呀？o(∩_∩)o...）

\033   即退出键<esc>的ascii码(27),所以上面的命令也可写成如下形式
<pre><code>echo   "^[[47;30m"</code></pre>       
<p>其中的“^[”是先按ctrl-V,然后再按<esc>键（就是键盘左上角的键）产生的。</p>

<p>这种方法只能暂时改变一下，logout一下就没有了。不过可以vi /root/.bashrc, 在后面加上刚才的命令。</p>

<pre><code>echo -e '\033[47;30m'</code></pre>


<p>用的是终端控制字符，比如这个，就是光标跳到第60列，然后显示一个OK</p>
<pre><code>echo -en '\033[60G' && echo OK</code></pre>

<p>\033[就是终端转义字符开始，60G是命令。</p>
echo的-e选项就是让echo不自己处理终端转义字符
<p>内建命令echo 输出他的参数，以空格来分隔，以换行符来结束。返回值总为0。echo 使用的一些选项：</p>
*	-e:转义反斜杠字符。
*	-n:禁止换行。
 
<p>echo 命令使用的转义序列</p>
<p>	序列 意义</p>
*	\a 闹铃
*	\b 退格
*	\c 强制换行
*	\e 退出
*	\f 清除屏幕
*	\n 新行
*	\r Carriage return.
*	\t 水平制表符
*	\v 垂直制表符
*	\\ 反斜杠
 
*	$#传递到脚本的参数个数
 
*	$*传递到脚本的参数，与位置变量不同，此选项参数可超过9个
 
*	$$脚本运行时当前进程ID号，常用作临时变量的后缀。如hash.$$
 
*	$!后台运行的&最后一个进程的ID号
 
*	$@与$#相同，使用时加引号，并在引号中返回参数的个数
 
*	$-上一个命令的最后一个参数
 
*	$?最后命令的推出状态，0表示没有错误。其他任何值表示有错误。

*	echo 输出颜色需要恢复到之前，那么使用reset
